<!-- Create Securiy Rule Modal -->
<div id="createNetwork" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
	 <div class="modal-dialog">
		 <div class="modal-content">
		     <div class="block block-themed block-transparent remove-margin-b">
		         <div class="block-header bg-primary-darker">
		             <ul class="block-options">
		                 <li>
		                     <button name="button" type="button" data-dismiss="modal"> <i class="si si-close"></i></button>
		                 </li>
		             </ul>
		             <h3 class="block-title">{{action == 'add' ? 'Add' : 'Update'}} Network</h3>
		         </div>
		         <div class="block-content">
		         	 <form name="settingsForm">
				         <div class="form-group" ng-class="{ 'has-error' : settingsForm.pName.$invalid && !settingsForm.pName.$pristine, 'has-success':settingsForm.pName.$valid }">
		                 	<label for="pName">Name</label>
		                 	<input type="text" autocomplete="off" class="form-control" id="pName" name="pName" placeholder="" ng-model="selectedRule.name" required ng-minlength='1' ng-maxlength="100" maxlength="100">
		                 	<p ng-show="settingsForm.pName.$invalid && !settingsForm.pName.$pristine" class="help-block">This field should be between 1-100 characters.</p>
			             </div>
			             <div class="form-group" ng-class="{ 'has-error' : !isIpUnique() || (settingsForm.pIp.$invalid && !settingsForm.pIp.$pristine), 'has-success':settingsForm.pIp.$valid }">
			                 <label for="pRemark">Ip Address</label>
			                 <input ng-disabled="action=='update'" type="text" autocomplete="off" class="form-control"id="pIp" name="pIp" placeholder="" ng-model="selectedRule.ip" required ng-pattern="ipPattern">
			                 <p ng-show="settingsForm.pIp.$invalid && !settingsForm.pIp.$pristine" class="help-block">This field should be a valid IP/CIDR format.</p>
			                 <p ng-show="!isIpUnique()" class="help-block">This IP/CIDR is used in another network.</p>
		                 </div>
			             <div class="form-group" ng-class="{ 'has-error' : settingsForm.pRemark.$invalid && !settingsForm.pRemark.$pristine, 'has-success':settingsForm.pRemark.$valid }">
			                 <label for="pRemark">Remark</label>
			                 <textarea autocomplete="off" class="form-control noresize" id="pRemark" name="pRemark" placeholder="" ng-model="selectedRule.remark" ng-minlength="0" ng-maxlength="250" maxlength="250"></textarea>
			             	 <p ng-show="settingsForm.pRemark.$invalid && !settingsForm.pRemark.$pristine" class="help-block">This field should be between 1-250 characters.</p>
			             </div>
			             <div class="form-group">
			                 <button type="button" class="btn btn-sm btn-success pull-right" ng-click="saveRule()"
			                 	ng-disabled="(selectedRule.ip == '' || selectedRule.name == '' || settingsForm.pName.$invalid && !settingsForm.pName.$pristine) || (settingsForm.pIp.$invalid && !settingsForm.pIp.$pristine) || settingsForm.pRemark.$invalid && !settingsForm.pRemark.$pristine || !isIpUnique()"
			                 ><i ng-class="action == 'add' ? 'fa fa-floppy-o' : 'fa fa-refresh' "></i> {{action == 'add' ? 'Add' : 'Update'}}</button>
			             </div>
		             </form>
		             <div class="clearfix"></div>
		         </div>
		     </div>
		 </div>
	</div>
 </div>
 <!-- End Create Securiy Rule Modal -->